<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Task Manager</title>
</head>
<body>
    <div class="container">
        <h1>Task Manager</h1>
        <a href="/tasks/new" class="btn create-btn">Create New Task</a>
        
        <% if (tasks.length > 0) { %>
          <div class="task-list">
            <% tasks.forEach(task => { %>
              <div class="task-card <%= task.status %>">
                <h2><%= task.title %></h2>
                <p><%= task.description %></p>
                <p class="status">Status: <%= task.status %></p>
                <p class="date">Created: <%= task.createdAt.toLocaleDateString() %></p>
                
                <div class="actions">
                  <a href="/tasks/<%= task._id %>/edit" class="btn edit-btn">Edit</a>
                  <form action="/tasks/<%= task._id %>?_method=DELETE" method="POST" class="delete-form">
                    <button type="submit" class="btn delete-btn">Delete</button>
                  </form>
                </div>
              </div>
            <% }) %>
          </div>
        <% } else { %>
          <p class="no-tasks">No tasks found. Create a new task to get started!</p>
        <% } %>
      </div>
</body>
</html>